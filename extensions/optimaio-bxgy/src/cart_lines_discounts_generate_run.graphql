query RunInput($collectionIds: [ID!]){
  shop {
    metafield(namespace: "optimaio_cart", key: "campaigns") {
      value
    }
  }
  cart {
    lines {
      id
      quantity
      cost {
        amountPerQuantity { amount }
      }
      attribute(key: "isFreeGift") { key value }
      merchandise {
        ... on ProductVariant {
          id
          title
          product {
            inAnyCollection(ids: $collectionIds)
              inCollections(ids: $collectionIds) {
              collectionId
              isMember
            }
          }
        }
      }
    }
  }
  discount {
    discountClasses
  }
}
